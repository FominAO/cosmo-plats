!function(t){var i={};function e(n){if(i[n])return i[n].exports;var o=i[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var o in t)e.d(n,o,function(i){return t[i]}.bind(null,o));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);for(var n,o=function(){return function(){this.acceleration=.08,this.maxVelosity=-5}}(),r=function(){function t(t,i,e,n,r,s,h,c){var a=this;this.ctx=t,this.x=i,this.y=e,this.width=n,this.height=r,this.movingSpeed=s,this.color=h,this.img=c,this.face="left",this.velocityX=0,this.velocityY=0,this.maxSpeedX=3,this.airResistanceAcc=.05,this.gravityClass=new o,this.canvasHeight=this.ctx.canvas.height,this.canvasWidth=this.ctx.canvas.width,this.gravity=setInterval(function(){a.y-=a.velocityY,a.velocityY>a.gravityClass.maxVelosity&&(a.velocityY-=a.gravityClass.acceleration)},10);setInterval(function(){a.x-=a.velocityX,Math.abs(a.velocityX)>0&&(Math.abs(a.velocityX)<=.1?a.velocityX=0:a.velocityX=(Math.abs(a.velocityX)-a.airResistanceAcc)*Math.sign(a.velocityX))},10)}return t.prototype.collide=function(t){var i=this.y+this.height,e=(this.y,this.x),n=this.x+this.width,o=this.x+this.width/2,r=this.y+this.height/2,s=(t.y,t.height,t.y),h=t.x,c=t.x+t.width,a=t.x+t.width/2,u=t.y+t.height/2;if(i>s&&r<u){if(o==a)return!0;if(o>a&&e<c)return!0;if(o<a&&n>h)return!0}return!1},t.prototype.fire=function(){this.ctx.fillStyle="#ff0000";switch(this.face){case"up":this.ctx.fillRect(this.x+this.width/2-2.5,this.y-5,5,5);break;case"down":this.ctx.fillRect(this.x+this.width/2-2.5,this.y+this.height,5,5);break;case"left":this.ctx.fillRect(this.x-5,this.y+this.height/2-2.5,5,5);break;case"right":this.ctx.fillRect(this.x+this.width,this.y+this.height/2-2.5,5,5)}},t}(),s=(n=function(t,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(t,i)},function(t,i){function e(){this.constructor=t}n(t,i),t.prototype=null===i?Object.create(i):(e.prototype=i.prototype,new e)}),h=function(t){function i(){var i=null!==t&&t.apply(this,arguments)||this;return i.onGround=!1,i}return s(i,t),i.prototype.draw=function(){this.ctx.fillStyle=this.color,this.x<0&&(this.x=this.ctx.canvas.width-this.width),this.x+this.width>this.ctx.canvas.width&&(this.x=0),this.ctx.fillRect(this.x,this.y,this.width,this.height)},i.prototype.moveUp=function(t){this.jump(),this.face="up"},i.prototype.moveDown=function(t){this.face="down"},i.prototype.moveLeft=function(t){Math.abs(this.velocityX)<this.maxSpeedX&&(this.velocityX+=.2),this.face="left"},i.prototype.moveRight=function(t){Math.abs(this.velocityX)<this.maxSpeedX&&(this.velocityX-=.2),this.face="right"},i.prototype.jump=function(){this.onGround&&(this.velocityY=3),this.onGround=!1},i.prototype.combojump=function(){this.onGround&&(this.velocityY=3),this.onGround=!1},i}(r),c=function(){var t=function(i,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var e in i)i.hasOwnProperty(e)&&(t[e]=i[e])})(i,e)};return function(i,e){function n(){this.constructor=i}t(i,e),i.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return c(i,t),i.prototype.defyingGravity=function(){clearInterval(this.gravity)},i.prototype.draw=function(){this.ctx.fillStyle=this.color,this.ctx.fillRect(this.x,this.y,this.width,this.height)},i.prototype.collide=function(t){return!1},i}(r),u=function(){function t(t,i,e,n){this.WIDTH=t,this.HEIGHT=i,this.d=document,this.fps=10;var o=this.d.createElement("canvas");o.style.position="fixed",o.style.left="0",o.style.top="0",o.width=t,o.height=i,o.style.backgroundColor=e,n&&(o.style.backgroundSize="cover",o.style.backgroundPosition="center"),this.d.body.appendChild(o),this.ctx=o.getContext("2d")}return t.prototype.createRect=function(t,i,e,n,o,r,s){return new h(this.ctx,t,i,e,n,o,r)},t.prototype.createEnvRect=function(t,i,e,n,o,r,s){return new a(this.ctx,t,i,e,n,o,r)},t.prototype.action=function(){},t.prototype.engine=function(){var t=this;setInterval(requestAnimationFrame,this.fps,function(){t.ctx.clearRect(0,0,t.WIDTH,t.HEIGHT),t.action()})},t.prototype.start=function(){this.engine()},t.prototype.gravity=function(t){},t}(),y=function(){function t(){var t=this;this.keys={left:37,up:38,right:39,down:40,space:32},this.pressedKeys={},window.addEventListener("keydown",function(i){t.pressedKeys[i.keyCode]=!0}),window.addEventListener("keyup",function(i){t.pressedKeys[i.keyCode]=!1})}return t.prototype.isDown=function(t){return this.pressedKeys[this.keys[t]]},t}(),f=new(function(){return function(){this.height=700,this.width=500,this.color="#fafafa",this.imgUrl="/img/back.jpg",this.engine=new u(this.width,this.height,this.color,this.imgUrl)}}()),l=new y,p=[{x:300,y:530},{x:250,y:480},{x:380,y:380},{x:50,y:290},{x:150,y:220},{x:250,y:140},{x:370,y:170},{x:100,y:70}],d=[],v=0;v<p.length;v++)d[v]=f.engine.createEnvRect(0+p[v].x,f.height-p[v].y,100,10,0,"#796082"),d[v].defyingGravity();var g=f.engine.createRect(50,550,50,50,2,"#e8bdbd"),x=f.engine.createEnvRect(0,f.height-10,f.width,10,0,"#796082");x.defyingGravity(),f.engine.action=function(){l.isDown("up")&&g.moveUp(2),l.isDown("down")&&g.moveDown(2),l.isDown("left")&&g.moveLeft(2),l.isDown("right")&&g.moveRight(2),l.isDown("space")&&g.jump(),f.engine.gravity(g),g.collide(x)&&(g.onGround=!0,g.velocityY=0,g.y=x.y-g.height),g.draw(),x.draw(),d.forEach(function(t){g.collide(t)&&(g.velocityY>0?g.velocityY=4:(g.onGround=!0,g.velocityY=0,g.y=t.y-g.height)),t.draw()})},f.engine.start()}]);